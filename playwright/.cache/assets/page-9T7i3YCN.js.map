{"version":3,"file":"page-9T7i3YCN.js","sources":["../../../app/register/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport Navbar from '@/app/ui/navbar';\r\n\r\n/**\r\n * REGISTER PAGE (Registracija)\r\n *\r\n * Namen strani:\r\n * - Uporabniku omogoca ustvarjanje novega racuna.\r\n * - Uporabnik vnese osnovne podatke (ime, priimek, email) in izbere geslo.\r\n *\r\n \r\n */\r\n\r\nexport default function RegisterPage() {\r\n  // Controlled inputs: vrednosti polj so vedno v state-u\r\n  const [ime, setIme] = useState('');\r\n  const [priimek, setPriimek] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirm, setConfirm] = useState('');\r\n\r\n  // error in success sta message stringa za prikaz uporabniku\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  /**\r\n   * Registracija uporabnika:\r\n   * - validacija gesel\r\n   * - POST /api/register\r\n   * - prikaz error/success\r\n   * - redirect na /login po uspehu\r\n   */\r\n  async function handleRegister() {\r\n    // Pocistimo prejsnja sporocila, da ne ostanejo stari statusi\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    // Osnovna validacija na strani klienta: gesli se morata ujemati\r\n    if (password !== confirm) {\r\n      setError('Gesli se ne ujemata.');\r\n      return;\r\n    }\r\n\r\n    const res = await fetch('/api/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        ime,\r\n        priimek,\r\n        email,\r\n        password,\r\n      }),\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    // Ce backend vrne napako, jo prikazemo uporabniku\r\n    if (!res.ok) {\r\n      setError(data.error || 'Napaka pri registraciji.');\r\n      return;\r\n    }\r\n\r\n    // Uspeh: prikazemo sporocilo in preusmerimo na login (po 1.5s)\r\n    setSuccess('Registracija uspesna. Preusmerjam...');\r\n    setTimeout(() => {\r\n      window.location.href = '/login';\r\n    }, 1500);\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen\">\r\n      {/* Navigacija */}\r\n      <Navbar />\r\n\r\n      <div className=\"mx-auto max-w-6xl px-4 pb-16 pt-10 md:px-6\">\r\n        <section className=\"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]\">\r\n          {/* Leva stran: opis strani */}\r\n          <div className=\"rounded-3xl border border-blue-200/50 bg-gradient-to-br from-blue-600 via-blue-500 to-sky-500 p-8 text-white shadow-lg md:p-12\">\r\n            <div className=\"max-w-md space-y-3\">\r\n              <p className=\"text-sm font-semibold uppercase tracking-wide text-blue-100\">\r\n                Ustvari racun\r\n              </p>\r\n              <h1 className=\"text-3xl font-semibold md:text-4xl\">Registracija</h1>\r\n              <p className=\"text-base text-blue-100 md:text-lg\">\r\n                Pridruzi se in zacni spremljati obroke ter napredek.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Desna stran: obrazec */}\r\n          <div className=\"rounded-3xl border border-gray-200/70 bg-white/95 p-6 shadow-sm backdrop-blur dark:border-gray-800/70 dark:bg-gray-900/80 md:p-8\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n              Ustvari nov racun\r\n            </h2>\r\n            <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-300\">\r\n              Izpolni podatke in potrdi registracijo.\r\n            </p>\r\n\r\n            {/* Napaka */}\r\n            {error && (\r\n              <div className=\"mt-4 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-200\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            {/* Uspeh */}\r\n            {success && (\r\n              <div className=\"mt-4 rounded-2xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-700 dark:border-green-900/40 dark:bg-green-950/40 dark:text-green-200\">\r\n                {success}\r\n              </div>\r\n            )}\r\n\r\n            {/* Form submit prepreƒçimo, ker registracijo sprozimo rocno z gumbom */}\r\n            <form className=\"mt-6 space-y-4\" onSubmit={(e) => e.preventDefault()}>\r\n              <div>\r\n                <label\r\n                  htmlFor=\"register-ime\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Ime\r\n                </label>\r\n                <input\r\n                  id=\"register-ime\"\r\n                  type=\"text\"\r\n                  value={ime}\r\n                  onChange={(e) => setIme(e.target.value)}\r\n                  className=\"mt-2 w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  placeholder=\"vnesi ime\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"register-priimek\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Priimek\r\n                </label>\r\n                <input\r\n                  id=\"register-priimek\"\r\n                  type=\"text\"\r\n                  value={priimek}\r\n                  onChange={(e) => setPriimek(e.target.value)}\r\n                  className=\"mt-2 w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  placeholder=\"vnesi priimek\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"register-email\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  E-posta\r\n                </label>\r\n                <input\r\n                  id=\"register-email\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"mt-2 w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  placeholder=\"vnesi e-posto\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"register-password\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Geslo\r\n                </label>\r\n                <input\r\n                  id=\"register-password\"\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"mt-2 w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  placeholder=\"vnesi geslo\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"register-confirm\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Potrdi geslo\r\n                </label>\r\n                <input\r\n                  id=\"register-confirm\"\r\n                  type=\"password\"\r\n                  value={confirm}\r\n                  onChange={(e) => setConfirm(e.target.value)}\r\n                  className=\"mt-2 w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  placeholder=\"ponovno vnesi geslo\"\r\n                />\r\n              </div>\r\n\r\n              {/* Gumb sprozi handleRegister */}\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleRegister}\r\n                className=\"w-full rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700\"\r\n              >\r\n                Registracija\r\n              </button>\r\n            </form>\r\n\r\n            {/* Link na login stran */}\r\n            <p className=\"mt-6 text-center text-sm text-gray-500 dark:text-gray-400\">\r\n              Ze imas racun?{' '}\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"font-semibold text-blue-600 transition hover:text-blue-500 dark:text-blue-300 dark:hover:text-blue-200\"\r\n              >\r\n                Prijava\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["useState","jsxs","jsx"],"mappings":"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"}