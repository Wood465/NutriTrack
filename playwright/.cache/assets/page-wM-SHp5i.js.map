{"version":3,"file":"page-wM-SHp5i.js","sources":["../../../app/meals/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\nimport Navbar from \"@/app/ui/navbar\";\nimport { fetchWithTimeout } from \"@/app/lib/fetch-timeout\";\n\r\n/**\r\n * MEALS PAGE (Moji obroki)\r\n *\r\n * Namen strani:\r\n * - Prijavljen uporabnik lahko:\r\n *   1) Doda nov obrok (ime + kalorije + makrohranila + opis)\r\n *   2) Vidi seznam vseh svojih obrokov\r\n *   3) Izbrise posamezen obrok\r\n *\r\n * Kako deluje (flow):\r\n * - Najprej preberemo sejo (/api/session), da dobimo user.id.\r\n * - Ko imamo user.id, nalozimo obroke (/api/meals?user_id=...).\r\n * - Pri dodajanju posljemo POST na /api/meals in dodamo vrnjen obrok v seznam.\r\n * - Pri brisanju posljemo DELETE na /api/meals/:id in ga odstranimo iz seznama.\r\n */\r\n\r\nexport default function MealsPage() {\r\n  // Seznam obrokov, ki se prikaze na desni strani (tabela/lista)\r\n  const [meals, setMeals] = useState<any[]>([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const mealsPerPage = 3;\r\n\r\n  // Controlled inputs za dodajanje novega obroka (leva stran)\r\n  const [name, setName] = useState(\"\");\r\n  const [calories, setCalories] = useState(\"0\");\r\n  const [note, setNote] = useState(\"\");\r\n  const [protein, setProtein] = useState(\"0\");\r\n  const [carbs, setCarbs] = useState(\"0\");\r\n  const [fat, setFat] = useState(\"0\");\r\n\r\n  // Trenutno prijavljen uporabnik (rabimo user.id za nalaganje in shranjevanje obrokov)\r\n  const [user, setUser] = useState<any>(null);\r\n\r\n  // Edit state za obrok\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editName, setEditName] = useState(\"\");\r\n  const [editCalories, setEditCalories] = useState(\"0\");\r\n  const [editProtein, setEditProtein] = useState(\"0\");\r\n  const [editCarbs, setEditCarbs] = useState(\"0\");\r\n  const [editFat, setEditFat] = useState(\"0\");\r\n\r\n  /**\r\n   * 1) Nalozimo trenutno sejo\r\n   * - /api/session vrne podatke o prijavljenem uporabniku\r\n   * - rezultat shranimo v state \"user\"\r\n   */\r\n  useEffect(() => {\n    async function loadUser() {\n      try {\n        const res = await fetchWithTimeout(\n          \"/api/session\",\n          { cache: \"no-cache\" },\n          5000,\n        );\n        if (!res.ok) {\n          setUser(null);\n          return;\n        }\n        const data = await res.json();\n        setUser(data.user ?? null);\n      } catch {\n        setUser(null);\n      }\n    }\n\n    loadUser();\n  }, []);\n\r\n  /**\r\n   * 2) Ko dobimo user, nalozimo njegove obroke\r\n   * - ta useEffect se izvede sele takrat, ko se \"user\" nastavi\r\n   * - s tem se izognemo klicu API-ja, dokler nimamo user.id\r\n   */\r\n  useEffect(() => {\n    if (!user) return;\n\n    async function loadMeals() {\n      try {\n        const res = await fetchWithTimeout(\n          `/api/meals?user_id=${user.id}`,\n          {},\n          7000,\n        );\n        if (!res.ok) {\n          setMeals([]);\n          return;\n        }\n\n        const data = await res.json();\n        setMeals(Array.isArray(data) ? data : []);\n      } catch {\n        setMeals([]);\n      }\n    }\n\n    loadMeals();\n  }, [user]);\n\r\n  useEffect(() => {\r\n    const totalPages = Math.max(1, Math.ceil(meals.length / mealsPerPage));\r\n    if (currentPage > totalPages) {\r\n      setCurrentPage(totalPages);\r\n    }\r\n  }, [meals.length, currentPage]);\r\n\r\n  /**\r\n   * 3) Brisanje obroka\r\n   * - uporabnika najprej vprasamo za potrditev (confirm)\r\n   * - DELETE /api/meals/:id\r\n   * - ce uspe, odstranimo obrok iz state, da se UI takoj posodobi\r\n   */\r\n  const handleDeleteMeal = async (id: string) => {\r\n    const ok = confirm(\"Res zelis izbrisati ta obrok?\");\r\n    if (!ok) return;\r\n\r\n    const res = await fetch(`/api/meals/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    if (!res.ok) {\r\n      alert(\"Brisanje ni uspelo\");\r\n      return;\r\n    }\r\n\r\n    setMeals((prev) => prev.filter((m) => m.id !== id));\r\n  };\r\n\r\n  const handleStartEdit = (meal: any) => {\r\n    setEditingId(meal.id);\r\n    setEditName(meal.naziv ?? \"\");\r\n    setEditCalories(String(meal.kalorije ?? 0));\r\n    setEditProtein(String(meal.beljakovine ?? 0));\r\n    setEditCarbs(String(meal.ogljikovi_hidrati ?? 0));\r\n    setEditFat(String(meal.mascobe ?? 0));\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingId(null);\r\n    setEditName(\"\");\r\n    setEditCalories(\"0\");\r\n    setEditProtein(\"0\");\r\n    setEditCarbs(\"0\");\r\n    setEditFat(\"0\");\r\n  };\r\n\r\n  const handleSaveEdit = async (id: string) => {\r\n    if (!user?.id) {\r\n      alert(\"Uporabnik ni prijavljen ali seja ni nalozena.\");\r\n      return;\r\n    }\r\n\r\n    if (!editName.trim() || !editCalories.trim()) return;\r\n\r\n    const parsedCalories = Number(editCalories);\r\n    const parsedProtein = Number(editProtein);\r\n    const parsedCarbs = Number(editCarbs);\r\n    const parsedFat = Number(editFat);\r\n\r\n    if (\r\n      !Number.isFinite(parsedCalories) ||\r\n      !Number.isFinite(parsedProtein) ||\r\n      !Number.isFinite(parsedCarbs) ||\r\n      !Number.isFinite(parsedFat) ||\r\n      parsedCalories < 0 ||\r\n      parsedProtein < 0 ||\r\n      parsedCarbs < 0 ||\r\n      parsedFat < 0\r\n    ) {\r\n      alert(\"Vrednosti ne smejo biti negativne.\");\r\n      return;\r\n    }\r\n\r\n    const res = await fetch(`/api/meals/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        naziv: editName,\r\n        kalorije: parsedCalories || 0,\r\n        beljakovine: parsedProtein || 0,\r\n        ogljikovi_hidrati: parsedCarbs || 0,\r\n        mascobe: parsedFat || 0,\r\n      }),\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json().catch(() => ({}));\r\n      const fields =\r\n        Array.isArray(err?.fields) && err.fields.length > 0\r\n          ? ` (${err.fields.join(\", \")})`\r\n          : \"\";\r\n      alert(`${err?.error || \"Urejanje ni uspelo\"}${fields}`);\r\n      return;\r\n    }\r\n\r\n    const updated = await res.json();\r\n    setMeals((prev) =>\r\n      prev.map((m) => (m.id === updated.id ? updated : m))\r\n    );\r\n    handleCancelEdit();\r\n  };\r\n\r\n  /**\r\n   * 4) Dodajanje novega obroka\r\n   * - validacija: ime mora biti vneseno, vrednosti ne smejo biti negativne\r\n   * - POST /api/meals\r\n   * - vrnjen obrok dodamo na vrh seznama, da je takoj viden\r\n   */\r\n  const handleAddMeal = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!user?.id) {\r\n      alert(\"Uporabnik ni prijavljen ali seja ni nalozena.\");\r\n      return;\r\n    }\r\n\r\n    // osnovna validacija\r\n    if (!name.trim() || !calories.trim()) return;\r\n\r\n    // pretvorba input stringov v stevila\r\n    const parsedCalories = Number(calories);\r\n    const parsedProtein = Number(protein);\r\n    const parsedCarbs = Number(carbs);\r\n    const parsedFat = Number(fat);\r\n\r\n    // varnost: ne dovolimo negativnih ali neveljavnih vrednosti\r\n    if (\r\n      !Number.isFinite(parsedCalories) ||\r\n      !Number.isFinite(parsedProtein) ||\r\n      !Number.isFinite(parsedCarbs) ||\r\n      !Number.isFinite(parsedFat) ||\r\n      parsedCalories < 0 ||\r\n      parsedProtein < 0 ||\r\n      parsedCarbs < 0 ||\r\n      parsedFat < 0\r\n    ) {\r\n      alert(\"Vrednosti ne smejo biti negativne.\");\r\n      return;\r\n    }\r\n\r\n    // objekt, ki ga posljemo backend-u (v enaki strukturi, kot jo backend pricakuje)\r\n    const newMeal = {\r\n      user_id: user.id,\r\n      naziv: name,\r\n      kalorije: parsedCalories || 0,\r\n      beljakovine: parsedProtein || 0,\r\n      ogljikovi_hidrati: parsedCarbs || 0,\r\n      mascobe: parsedFat || 0,\r\n      note,\r\n    };\r\n\r\n    const res = await fetch(\"/api/meals\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(newMeal),\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const err = await res.json().catch(() => ({}));\r\n      const fields =\r\n        Array.isArray(err?.fields) && err.fields.length > 0\r\n          ? ` (${err.fields.join(\", \")})`\r\n          : \"\";\r\n      alert(`${err?.error || \"Dodajanje ni uspelo\"}${fields}`);\r\n      return;\r\n    }\r\n\r\n    // backend vrne shranjen obrok (z id-jem, casom, ...)\r\n    const saved = await res.json();\r\n    if (!saved || saved.id == null) {\r\n      alert(\"Obrok ni bil shranjen pravilno (manjka id).\");\r\n      return;\r\n    }\r\n\r\n    // UI: obrok dodamo na vrh seznama (da se vidi takoj)\r\n    setMeals((prev) => [saved, ...prev]);\r\n    setCurrentPage(1);\r\n\r\n    // ponastavimo formo\r\n    setName(\"\");\r\n    setCalories(\"\");\r\n    setProtein(\"\");\r\n    setCarbs(\"\");\r\n    setFat(\"\");\r\n    setNote(\"\");\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen\">\r\n      {/* Navigacija */}\r\n      <Navbar />\r\n\r\n      <div className=\"mx-auto max-w-6xl space-y-10 px-4 pb-16 pt-10 md:px-6\">\r\n        {/* Naslovna (hero) sekcija strani */}\r\n        <section className=\"rounded-3xl border border-blue-200/50 bg-gradient-to-br from-blue-600 via-blue-500 to-sky-500 p-8 text-white shadow-lg md:p-12\">\r\n          <div className=\"max-w-3xl space-y-3\">\r\n            <p className=\"text-sm font-semibold uppercase tracking-wide text-blue-100\">\r\n              Moji obroki\r\n            </p>\r\n            <h1 className=\"text-3xl font-semibold md:text-4xl\">\r\n              Dodaj obrok in spremljaj vnos\r\n            </h1>\r\n            <p className=\"text-base text-blue-100 md:text-lg\">\r\n              Hitro zabelezi kalorije in makro hranila ter imej vse na enem mestu.\r\n            </p>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Layout: levo forma, desno seznam obrokov */}\r\n        <section className=\"grid gap-6 lg:grid-cols-[1.1fr_1.4fr]\">\r\n          {/* LEVO: forma za dodajanje */}\r\n          <div className=\"rounded-3xl border border-gray-200/70 bg-white/95 p-6 shadow-sm backdrop-blur dark:border-gray-800/70 dark:bg-gray-900/80 md:p-8\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n              Dodaj nov obrok\r\n            </h2>\r\n            <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-300\">\r\n              Vnesi ime, kalorije in dodatne podatke.\r\n            </p>\r\n\r\n            <form onSubmit={handleAddMeal} className=\"mt-6 space-y-4\">\r\n              <div>\r\n                <label\r\n                  htmlFor=\"name\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Ime obroka\r\n                </label>\r\n                <input\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  placeholder=\"npr. Zajtrk\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"calories\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Kalorije\r\n                </label>\r\n                <input\r\n                  id=\"calories\"\r\n                  type=\"number\"\r\n                  min={0}\r\n                  placeholder=\"npr. 350\"\r\n                  value={calories}\r\n                  onChange={(e) => setCalories(e.target.value)}\r\n                  className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-3\">\r\n                <div>\r\n                  <label\r\n                    htmlFor=\"protein\"\r\n                    className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                  >\r\n                    Beljakovine (g)\r\n                  </label>\r\n                  <input\r\n                    id=\"protein\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    value={protein}\r\n                    onChange={(e) => setProtein(e.target.value)}\r\n                    className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    htmlFor=\"carbs\"\r\n                    className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                  >\r\n                    Ogljikovi hidrati (g)\r\n                  </label>\r\n                  <input\r\n                    id=\"carbs\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    value={carbs}\r\n                    onChange={(e) => setCarbs(e.target.value)}\r\n                    className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    htmlFor=\"fat\"\r\n                    className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                  >\r\n                    Mascobe (g)\r\n                  </label>\r\n                  <input\r\n                    id=\"fat\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    value={fat}\r\n                    onChange={(e) => setFat(e.target.value)}\r\n                    className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"note\"\r\n                  className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  Opis (neobvezno)\r\n                </label>\r\n                <textarea\r\n                  id=\"note\"\r\n                  placeholder=\"kratek opis obroka\"\r\n                  value={note}\r\n                  onChange={(e) => setNote(e.target.value)}\r\n                  className=\"mt-2 block min-h-[110px] w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={!user?.id}\r\n                className=\"w-full rounded-xl bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-700\"\r\n              >\r\n                Dodaj obrok\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          {/* DESNO: seznam obrokov */}\r\n          <div className=\"rounded-3xl border border-gray-200/70 bg-white/95 p-6 shadow-sm backdrop-blur dark:border-gray-800/70 dark:bg-gray-900/80 md:p-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                Dodani obroki\r\n              </h2>\r\n              <span className=\"rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-blue-700 dark:bg-blue-950/40 dark:text-blue-200\">\r\n                {meals.length} skupaj\r\n              </span>\r\n            </div>\r\n\r\n            {/* Ce ni obrokov, prikazemo “empty state”, drugace seznam */}\r\n            {meals.length === 0 ? (\r\n              <div className=\"mt-6 rounded-2xl border border-dashed border-gray-200 p-6 text-sm text-gray-500 dark:border-gray-800 dark:text-gray-400\">\r\n                Se ni dodanih obrokov. Dodaj prvega in zacni spremljati vnos.\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <ul className=\"mt-6 space-y-4\">\r\n                  {meals\r\n                    .slice(\r\n                      (currentPage - 1) * mealsPerPage,\r\n                      currentPage * mealsPerPage,\r\n                    )\r\n                    .map((meal, index) => (\r\n                  <li\r\n                    key={meal.id ?? `${meal.naziv}-${meal.cas ?? \"no-date\"}-${index}`}\r\n                    className=\"rounded-2xl border border-gray-200/70 bg-white/90 p-4 shadow-sm dark:border-gray-800/70 dark:bg-gray-900/60\"\r\n                  >\r\n                    {editingId === meal.id ? (\r\n                      <div className=\"space-y-4\">\r\n                        <div>\r\n                          <label\r\n                            htmlFor={`edit-name-${meal.id}`}\r\n                            className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                          >\r\n                            Ime obroka\r\n                          </label>\r\n                          <input\r\n                            id={`edit-name-${meal.id}`}\r\n                            type=\"text\"\r\n                            value={editName}\r\n                            onChange={(e) => setEditName(e.target.value)}\r\n                            className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label\r\n                            htmlFor={`edit-calories-${meal.id}`}\r\n                            className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                          >\r\n                            Kalorije\r\n                          </label>\r\n                          <input\r\n                            id={`edit-calories-${meal.id}`}\r\n                            type=\"number\"\r\n                            min={0}\r\n                            value={editCalories}\r\n                            onChange={(e) => setEditCalories(e.target.value)}\r\n                            className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"grid gap-4 sm:grid-cols-3\">\r\n                          <div>\r\n                            <label\r\n                              htmlFor={`edit-protein-${meal.id}`}\r\n                              className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                            >\r\n                              Beljakovine (g)\r\n                            </label>\r\n                            <input\r\n                              id={`edit-protein-${meal.id}`}\r\n                              type=\"number\"\r\n                              min={0}\r\n                              value={editProtein}\r\n                              onChange={(e) => setEditProtein(e.target.value)}\r\n                              className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label\r\n                              htmlFor={`edit-carbs-${meal.id}`}\r\n                              className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                            >\r\n                              Ogljikovi hidrati (g)\r\n                            </label>\r\n                            <input\r\n                              id={`edit-carbs-${meal.id}`}\r\n                              type=\"number\"\r\n                              min={0}\r\n                              value={editCarbs}\r\n                              onChange={(e) => setEditCarbs(e.target.value)}\r\n                              className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div>\r\n                            <label\r\n                              htmlFor={`edit-fat-${meal.id}`}\r\n                              className=\"block text-sm font-medium text-gray-700 dark:text-gray-200\"\r\n                            >\r\n                              Mascobe (g)\r\n                            </label>\r\n                            <input\r\n                              id={`edit-fat-${meal.id}`}\r\n                              type=\"number\"\r\n                              min={0}\r\n                              value={editFat}\r\n                              onChange={(e) => setEditFat(e.target.value)}\r\n                              className=\"mt-2 block w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-700 dark:bg-gray-950 dark:text-gray-100 dark:focus:border-blue-500 dark:focus:ring-blue-900\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          <button\r\n                            onClick={() => handleSaveEdit(meal.id)}\r\n                            className=\"rounded-full bg-blue-600 px-4 py-1 text-xs font-semibold text-white transition hover:bg-blue-700\"\r\n                          >\r\n                            Shrani\r\n                          </button>\r\n                          <button\r\n                            onClick={handleCancelEdit}\r\n                            className=\"rounded-full border border-gray-200 px-4 py-1 text-xs font-semibold text-gray-700 transition hover:bg-gray-50 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800\"\r\n                          >\r\n                            Preklici\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n                          <div>\r\n                            <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n                              {meal.naziv}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                              {meal.kalorije} kcal\r\n                            </p>\r\n                          </div>\r\n\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <button\r\n                              onClick={() => handleStartEdit(meal)}\r\n                              className=\"rounded-full border border-blue-200 px-3 py-1 text-xs font-semibold text-blue-600 transition hover:bg-blue-50 dark:border-blue-900/40 dark:text-blue-300 dark:hover:bg-blue-950/40\"\r\n                            >\r\n                              Uredi\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleDeleteMeal(meal.id)}\r\n                              className=\"rounded-full border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-50 dark:border-red-900/40 dark:text-red-300 dark:hover:bg-red-950/40\"\r\n                            >\r\n                              Izbrisi\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"mt-4 grid gap-3 text-sm text-gray-600 dark:text-gray-300 sm:grid-cols-3\">\r\n                          <p>Beljakovine: {meal.beljakovine} g</p>\r\n                          <p>Ogljikovi hidrati: {meal.ogljikovi_hidrati} g</p>\r\n                          <p>Mascobe: {meal.mascobe} g</p>\r\n                        </div>\r\n\r\n                        <p className=\"mt-3 text-xs uppercase tracking-wide text-gray-400\">\r\n                          Cas vnosa: {new Date(meal.cas).toLocaleString()}\r\n                        </p>\r\n\r\n                        {meal.note && (\r\n                          <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-300\">\r\n                            Opis: {meal.note}\r\n                          </p>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n                </ul>\r\n\r\n                <div className=\"mt-6 flex flex-wrap items-center justify-between gap-3 text-sm text-gray-600 dark:text-gray-300\">\r\n                  <span>\r\n                    Stran {currentPage} /{\" \"}\r\n                    {Math.max(1, Math.ceil(meals.length / mealsPerPage))}\r\n                  </span>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n                      disabled={currentPage === 1}\r\n                      className=\"rounded-full border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-700 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:text-gray-200 dark:hover:bg-gray-800\"\r\n                    >\r\n                      Prejsnja\r\n                    </button>\r\n                    <button\r\n                      onClick={() =>\r\n                        setCurrentPage((p) =>\r\n                          Math.min(\r\n                            Math.max(1, Math.ceil(meals.length / mealsPerPage)),\r\n                            p + 1,\r\n                          ),\r\n                        )\r\n                      }\r\n                      disabled={\r\n                        currentPage ===\r\n                        Math.max(1, Math.ceil(meals.length / mealsPerPage))\r\n                      }\r\n                      className=\"rounded-full border border-blue-200 px-3 py-1 text-xs font-semibold text-blue-700 transition hover:bg-blue-50 disabled:cursor-not-allowed disabled:opacity-50 dark:border-blue-900/40 dark:text-blue-200 dark:hover:bg-blue-950/40\"\r\n                    >\r\n                      Naslednja\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":["useState","useEffect","jsxs","jsx","Fragment"],"mappings":"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"}